

<!DOCTYPE html>
<html lang="zh-cn" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="xrt">
  <meta name="keywords" content="">
  <meta name="description" content="Javaåå°„å’Œæ³¨è§£æ³¨æ„ï¼šæœ¬ç« èŠ‚æ¶‰åŠåˆ°JVMç›¸å…³åº•å±‚åŸç†ï¼Œéš¾åº¦ä¼šæœ‰ä¸€äº›å¤§ã€‚ åå°„å°±æ˜¯æŠŠJavaç±»ä¸­çš„å„ä¸ªæˆåˆ†æ˜ å°„æˆä¸€ä¸ªä¸ªçš„Javaå¯¹è±¡ã€‚å³åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½è°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§ã€‚è¿™ç§åŠ¨æ€è·å–ä¿¡æ¯åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½å«Javaçš„åå°„æœºåˆ¶ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ï¼Œè·å–åˆ°ç±»çš„ä¸€äº›å±æ€§ï¼ŒåŒ…æ‹¬ç±»é‡Œé¢æœ‰å“ªäº›å­—æ®µï¼Œæœ‰å“ªäº›æ–¹æ³•ï¼Œ">
<meta property="og:type" content="article">
<meta property="og:title" content="XRTing&#39;s Blog">
<meta property="og:url" content="http://blurryf.github.io/2022/02/23/0.html/index.html">
<meta property="og:site_name" content="XRTing&#39;s Blog">
<meta property="og:description" content="Javaåå°„å’Œæ³¨è§£æ³¨æ„ï¼šæœ¬ç« èŠ‚æ¶‰åŠåˆ°JVMç›¸å…³åº•å±‚åŸç†ï¼Œéš¾åº¦ä¼šæœ‰ä¸€äº›å¤§ã€‚ åå°„å°±æ˜¯æŠŠJavaç±»ä¸­çš„å„ä¸ªæˆåˆ†æ˜ å°„æˆä¸€ä¸ªä¸ªçš„Javaå¯¹è±¡ã€‚å³åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½è°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§ã€‚è¿™ç§åŠ¨æ€è·å–ä¿¡æ¯åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½å«Javaçš„åå°„æœºåˆ¶ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ï¼Œè·å–åˆ°ç±»çš„ä¸€äº›å±æ€§ï¼ŒåŒ…æ‹¬ç±»é‡Œé¢æœ‰å“ªäº›å­—æ®µï¼Œæœ‰å“ªäº›æ–¹æ³•ï¼Œ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg3.itboth.com%2F60%2F50%2FUrUVN3.png&refer=http%3A%2F%2Fimg3.itboth.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1637635409&t=f25ea82c853619c26897ff5b4d041d5b">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201217213314510.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGV5YW5iYW8=,size_16,color_FFFFFF,t_70">
<meta property="article:published_time" content="2022-02-23T09:05:07.986Z">
<meta property="article:modified_time" content="2022-02-23T09:05:08.071Z">
<meta property="article:author" content="xrt">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg3.itboth.com%2F60%2F50%2FUrUVN3.png&refer=http%3A%2F%2Fimg3.itboth.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1637635409&t=f25ea82c853619c26897ff5b4d041d5b">
  
  <title>XRTing&#39;s Blog</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"blurryf.github.io","root":"/","version":"1.8.12","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname"}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>XRTing</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-02-23 17:05" pubdate>
        2022å¹´2æœˆ23æ—¥ ä¸‹åˆ
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      17k å­—
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      54 åˆ†é’Ÿ
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none"></h1>
            
            <div class="markdown-body">
              <h1 id="Javaåå°„å’Œæ³¨è§£"><a href="#Javaåå°„å’Œæ³¨è§£" class="headerlink" title="Javaåå°„å’Œæ³¨è§£"></a>Javaåå°„å’Œæ³¨è§£</h1><p><strong>æ³¨æ„ï¼š</strong>æœ¬ç« èŠ‚æ¶‰åŠåˆ°JVMç›¸å…³åº•å±‚åŸç†ï¼Œéš¾åº¦ä¼šæœ‰ä¸€äº›å¤§ã€‚</p>
<p>åå°„å°±æ˜¯æŠŠJavaç±»ä¸­çš„å„ä¸ªæˆåˆ†æ˜ å°„æˆä¸€ä¸ªä¸ªçš„Javaå¯¹è±¡ã€‚å³åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½è°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§ã€‚è¿™ç§åŠ¨æ€è·å–ä¿¡æ¯åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½å«Javaçš„åå°„æœºåˆ¶ã€‚</p>
<p>ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ï¼Œè·å–åˆ°ç±»çš„ä¸€äº›å±æ€§ï¼ŒåŒ…æ‹¬ç±»é‡Œé¢æœ‰å“ªäº›å­—æ®µï¼Œæœ‰å“ªäº›æ–¹æ³•ï¼Œç»§æ‰¿è‡ªå“ªä¸ªç±»ï¼Œç”šè‡³è¿˜èƒ½è·å–åˆ°æ³›å‹ï¼å®ƒçš„æƒé™éå¸¸é«˜ï¼Œæ…é‡ä½¿ç”¨ï¼</p>
<h2 id="Javaç±»åŠ è½½æœºåˆ¶"><a href="#Javaç±»åŠ è½½æœºåˆ¶" class="headerlink" title="Javaç±»åŠ è½½æœºåˆ¶"></a>Javaç±»åŠ è½½æœºåˆ¶</h2><p>åœ¨å­¦ä¹ Javaçš„åå°„æœºåˆ¶ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹ç±»çš„åŠ è½½æœºåˆ¶ï¼Œä¸€ä¸ªç±»æ˜¯å¦‚ä½•è¢«åŠ è½½å’Œä½¿ç”¨çš„ï¼š</p>
<p><img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg3.itboth.com%2F60%2F50%2FUrUVN3.png&refer=http%3A%2F%2Fimg3.itboth.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1637635409&t=f25ea82c853619c26897ff5b4d041d5b" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>åœ¨Javaç¨‹åºå¯åŠ¨æ—¶ï¼ŒJVMä¼šå°†ä¸€éƒ¨åˆ†ç±»ï¼ˆclassæ–‡ä»¶ï¼‰å…ˆåŠ è½½ï¼ˆå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç±»éƒ½ä¼šåœ¨ä¸€å¼€å§‹åŠ è½½ï¼‰ï¼Œé€šè¿‡ClassLoaderå°†ç±»åŠ è½½ï¼Œåœ¨åŠ è½½è¿‡ç¨‹ä¸­ï¼Œä¼šå°†ç±»çš„ä¿¡æ¯æå–å‡ºæ¥ï¼ˆå­˜æ”¾åœ¨å…ƒç©ºé—´ä¸­ï¼ŒJDK1.8ä¹‹å‰å­˜æ”¾åœ¨æ°¸ä¹…ä»£ï¼‰ï¼ŒåŒæ—¶ä¹Ÿä¼šç”Ÿæˆä¸€ä¸ªClasså¯¹è±¡å­˜æ”¾åœ¨å†…å­˜ï¼ˆå †å†…å­˜ï¼‰ï¼Œæ³¨æ„æ­¤Classå¯¹è±¡åªä¼šå­˜åœ¨ä¸€ä¸ªï¼Œä¸åŠ è½½çš„ç±»å”¯ä¸€å¯¹åº”ï¼</p>
<p><strong>æ€è€ƒï¼š</strong>æ—¢ç„¶è¯´å’Œä¸åŠ è½½çš„ç±»å”¯ä¸€å¯¹åº”ï¼Œé‚£å¦‚æœæˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªä¸JDKåŒ…åä¸€æ ·ï¼ŒåŒæ—¶ç±»åä¹Ÿä¿æŒä¸€è‡´ï¼Œé‚£ä¹ˆJVMä¼šåŠ è½½è¿™ä¸ªç±»å—ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-keyword">package</span> java.lang;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">String</span> </span>&#123;    <span class="hljs-comment">//JDKæä¾›çš„Stringç±»ä¹Ÿæ˜¯</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        System.out.println(<span class="hljs-string"><code class="language-hljs java"><span class="hljs-keyword">package</span> java.lang;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">String</span> </span>&#123;    <span class="hljs-comment">//JDKæä¾›çš„Stringç±»ä¹Ÿæ˜¯</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">"æˆ‘å§“ğŸ´ï¼Œæˆ‘å«ğŸ´nb"</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å‘ç°ï¼Œä¼šå‡ºç°ä»¥ä¸‹æŠ¥é”™ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre class=" language-hljs java">é”™è¯¯: åœ¨ç±» java.lang.String ä¸­æ‰¾ä¸åˆ° main æ–¹æ³•, è¯·å°† main æ–¹æ³•å®šä¹‰ä¸º:<br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params"><code class="language-hljs java">é”™è¯¯: åœ¨ç±» java.lang.String ä¸­æ‰¾ä¸åˆ° main æ–¹æ³•, è¯·å°† main æ–¹æ³•å®šä¹‰ä¸º:<br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span><br></code></pre></td></tr></table></figure>

<p>ä½†æ˜¯æˆ‘ä»¬æ˜æ˜åœ¨è‡ªå·±å†™çš„Stringç±»ä¸­å®šä¹‰äº†mainæ–¹æ³•å•Šï¼Œä¸ºä»€ä¹ˆä¼šæ‰¾ä¸åˆ°æ­¤æ–¹æ³•å‘¢ï¼Ÿå®é™…ä¸Šè¿™æ˜¯ClassLoaderçš„<code>åŒäº²å§”æ´¾æœºåˆ¶</code>åœ¨ä¿æŠ¤Javaç¨‹åºçš„æ­£å¸¸è¿è¡Œï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20201217213314510.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGV5YW5iYW8=,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="img"></p>
<p>å®é™…ä¸Šæˆ‘ä»¬çš„ç±»æœ€å¼€å§‹æ˜¯ç”±BootstarpClassLoaderè¿›è¡ŒåŠ è½½ï¼ŒBootstarpClassLoaderç”¨äºåŠ è½½JDKæä¾›çš„ç±»ï¼Œè€Œæˆ‘ä»¬è‡ªå·±ç¼–å†™çš„ç±»å®é™…ä¸Šæ˜¯AppClassLoaderï¼Œåªæœ‰BootstarpClassLoaderéƒ½æ²¡æœ‰åŠ è½½çš„ç±»ï¼Œæ‰ä¼šè®©AppClassLoaderæ¥åŠ è½½ï¼Œå› æ­¤æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„åŒååŒ…åŒåç±»ä¸ä¼šè¢«åŠ è½½ï¼Œè€Œå®é™…è¦å»å¯åŠ¨çš„æ˜¯çœŸæ­£çš„Stringç±»ï¼Œä¹Ÿå°±è‡ªç„¶æ‰¾ä¸åˆ°<code>main</code>æ–¹æ³•äº†ï¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        System.out.println(Main.class.getClassLoader());   <span class="hljs-comment">//æŸ¥çœ‹å½“å‰ç±»çš„ç±»åŠ è½½å™¨</span><br>        System.out.println(Main.class.getClassLoader().getParent());  <span class="hljs-comment">//çˆ¶åŠ è½½å™¨</span><br>        System.out.println(Main.class.getClassLoader().getParent().getParent());  <span class="hljs-comment">//çˆ·çˆ·åŠ è½½å™¨</span><br>        System.out.println(String.class.getClassLoader());   <span class="hljs-comment"><code class="language-hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        System.out.println(Main.class.getClassLoader());   <span class="hljs-comment">//æŸ¥çœ‹å½“å‰ç±»çš„ç±»åŠ è½½å™¨</span><br>        System.out.println(Main.class.getClassLoader().getParent());  <span class="hljs-comment">//çˆ¶åŠ è½½å™¨</span><br>        System.out.println(Main.class.getClassLoader().getParent().getParent());  <span class="hljs-comment">//çˆ·çˆ·åŠ è½½å™¨</span><br>        System.out.println(String.class.getClassLoader());   <span class="hljs-comment">//Stringç±»çš„åŠ è½½å™¨</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>ç”±äºBootstarpClassLoaderæ˜¯C++ç¼–å†™çš„ï¼Œæˆ‘ä»¬åœ¨Javaä¸­æ˜¯è·å–ä¸åˆ°çš„ã€‚</p>
<h2 id="Classå¯¹è±¡"><a href="#Classå¯¹è±¡" class="headerlink" title="Classå¯¹è±¡"></a>Classå¯¹è±¡</h2><p>é€šè¿‡å‰é¢ï¼Œæˆ‘ä»¬äº†è§£äº†ç±»çš„åŠ è½½ï¼ŒåŒæ—¶ä¼šæå–ä¸€ä¸ªç±»çš„ä¿¡æ¯ç”ŸæˆClasså¯¹è±¡å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œè€Œåå°„æœºåˆ¶å…¶å®å°±æ˜¯åˆ©ç”¨è¿™äº›å­˜æ”¾çš„ç±»ä¿¡æ¯ï¼Œæ¥è·å–ç±»çš„ä¿¡æ¯å’Œæ“ä½œç±»ã€‚é‚£ä¹ˆå¦‚ä½•è·å–åˆ°æ¯ä¸ªç±»å¯¹åº”çš„Classå¯¹è±¡å‘¢ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException </span>&#123;<br>    Class&lt;String&gt; clazz = String.class;   <span class="hljs-comment">//ä½¿ç”¨classå…³é”®å­—ï¼Œé€šè¿‡ç±»åè·å–</span><br>    Class&lt;?&gt; clazz2 = Class.forName(<span class="hljs-string">&quot;java.lang.String&quot;</span>);   <span class="hljs-comment">//ä½¿ç”¨Classç±»é™æ€æ–¹æ³•forName()ï¼Œé€šè¿‡åŒ…å.ç±»åè·å–ï¼Œæ³¨æ„è¿”å›å€¼æ˜¯Class&lt;?&gt;</span><br>    Class&lt;?&gt; clazz3 = <span class="hljs-keyword">new</span> String(<span class="hljs-string">&quot;cpdd&quot;</span>).getClass();  <span class="hljs-comment"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException </span>&#123;<br>    Class&lt;String&gt; clazz = String.class;   <span class="hljs-comment">//ä½¿ç”¨classå…³é”®å­—ï¼Œé€šè¿‡ç±»åè·å–</span><br>    Class&lt;?&gt; clazz2 = Class.forName(<span class="hljs-string">&quot;java.lang.String&quot;</span>);   <span class="hljs-comment">//ä½¿ç”¨Classç±»é™æ€æ–¹æ³•forName()ï¼Œé€šè¿‡åŒ…å.ç±»åè·å–ï¼Œæ³¨æ„è¿”å›å€¼æ˜¯Class&lt;?&gt;</span><br>    Class&lt;?&gt; clazz3 = <span class="hljs-keyword">new</span> String(<span class="hljs-string">&quot;cpdd&quot;</span>).getClass();  <span class="hljs-comment">//é€šè¿‡å®ä¾‹å¯¹è±¡è·å–</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>æ³¨æ„Classç±»ä¹Ÿæ˜¯ä¸€ä¸ªæ³›å‹ç±»ï¼Œåªæœ‰ç¬¬ä¸€ç§æ–¹æ³•ï¼Œèƒ½å¤Ÿç›´æ¥è·å–åˆ°å¯¹åº”ç±»å‹çš„Classå¯¹è±¡ï¼Œè€Œä»¥ä¸‹ä¸¤ç§æ–¹æ³•ä½¿ç”¨äº†<code>?</code>é€šé…ç¬¦ä½œä¸ºè¿”å›å€¼ï¼Œä½†æ˜¯å®é™…ä¸Šéƒ½å’Œç¬¬ä¸€ä¸ªè¿”å›çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre class=" language-hljs java">Class&lt;String&gt; clazz = String.class;   <span class="hljs-comment">//ä½¿ç”¨classå…³é”®å­—ï¼Œé€šè¿‡ç±»åè·å–</span><br>Class&lt;?&gt; clazz2 = Class.forName(<span class="hljs-string">&quot;java.lang.String&quot;</span>);   <span class="hljs-comment">//ä½¿ç”¨Classç±»é™æ€æ–¹æ³•forName()ï¼Œé€šè¿‡åŒ…å.ç±»åè·å–ï¼Œæ³¨æ„è¿”å›å€¼æ˜¯Class&lt;?&gt;</span><br>Class&lt;?&gt; clazz3 = <span class="hljs-keyword">new</span> String(<span class="hljs-string"><code class="language-hljs java">Class&lt;String&gt; clazz = String.class;   <span class="hljs-comment">//ä½¿ç”¨classå…³é”®å­—ï¼Œé€šè¿‡ç±»åè·å–</span><br>Class&lt;?&gt; clazz2 = Class.forName(<span class="hljs-string">&quot;java.lang.String&quot;</span>);   <span class="hljs-comment">//ä½¿ç”¨Classç±»é™æ€æ–¹æ³•forName()ï¼Œé€šè¿‡åŒ…å.ç±»åè·å–ï¼Œæ³¨æ„è¿”å›å€¼æ˜¯Class&lt;?&gt;</span><br>Class&lt;?&gt; clazz3 = <span class="hljs-keyword">new</span> String(<span class="hljs-string">"cpdd"</span>).getClass();<br><br>System.out.println(clazz == clazz2);<br>System.out.println(clazz == clazz3);<br></code></pre></td></tr></table></figure>

<p>é€šè¿‡æ¯”è¾ƒï¼ŒéªŒè¯äº†æˆ‘ä»¬ä¸€å¼€å§‹çš„ç»“è®ºï¼Œåœ¨JVMä¸­æ¯ä¸ªç±»å§‹ç»ˆåªå­˜åœ¨ä¸€ä¸ªClasså¯¹è±¡ï¼Œæ— è®ºé€šè¿‡ä»€ä¹ˆæ–¹æ³•è·å–ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ã€‚ç°åœ¨æˆ‘ä»¬å†æ¥çœ‹çœ‹è¿™ä¸ªé—®é¢˜ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Class&lt;?&gt; clazz = <span class="hljs-keyword">int</span>.class;   <span class="hljs-comment"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Class&lt;?&gt; clazz = <span class="hljs-keyword">int</span>.class;   <span class="hljs-comment">//åŸºæœ¬æ•°æ®ç±»å‹æœ‰Classå¯¹è±¡å—ï¼Ÿ</span><br>    System.out.println(clazz);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿·äº†ï¼Œä¸æ˜¯æ¯ä¸ªç±»æ‰æœ‰Classå¯¹è±¡å—ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹åˆä¸æ˜¯ç±»ï¼Œè¿™ä¹Ÿè¡Œå—ï¼Ÿå®é™…ä¸Šï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ä¹Ÿæœ‰å¯¹åº”çš„Classå¯¹è±¡ï¼ˆåå°„æ“ä½œå¯èƒ½éœ€è¦ç”¨åˆ°ï¼‰ï¼Œè€Œä¸”æˆ‘ä»¬ä¸ä»…å¯ä»¥é€šè¿‡classå…³é”®å­—è·å–ï¼Œå…¶å®æœ¬è´¨ä¸Šæ˜¯å®šä¹‰åœ¨å¯¹åº”çš„åŒ…è£…ç±»ä¸­çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * The &#123;<span class="hljs-doctag">@code</span> Class&#125; instance representing the primitive type</span><br><span class="hljs-comment"> * &#123;<span class="hljs-doctag">@code</span> int&#125;.</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span>   JDK1.1</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@SuppressWarnings(&quot;unchecked&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Class&lt;Integer&gt;  TYPE = (Class&lt;Integer&gt;) Class.getPrimitiveClass(<span class="hljs-string">&quot;int&quot;</span>);<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * Return the Virtual Machine&#x27;s Class object for the named</span><br><span class="hljs-comment"> * primitive type</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> Class&lt;?&gt; getPrimitiveClass(String name);   <span class="hljs-comment"><code class="language-hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * The &#123;<span class="hljs-doctag">@code</span> Class&#125; instance representing the primitive type</span><br><span class="hljs-comment"> * &#123;<span class="hljs-doctag">@code</span> int&#125;.</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span>   JDK1.1</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@SuppressWarnings(&quot;unchecked&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Class&lt;Integer&gt;  TYPE = (Class&lt;Integer&gt;) Class.getPrimitiveClass(<span class="hljs-string">&quot;int&quot;</span>);<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * Return the Virtual Machine&#x27;s Class object for the named</span><br><span class="hljs-comment"> * primitive type</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> Class&lt;?&gt; getPrimitiveClass(String name);   <span class="hljs-comment">//C++å®ç°ï¼Œå¹¶éJavaå®šä¹‰</span><br></code></pre></td></tr></table></figure>

<p>æ¯ä¸ªåŒ…è£…ç±»ä¸­ï¼ˆåŒ…æ‹¬Voidï¼‰ï¼Œéƒ½æœ‰ä¸€ä¸ªè·å–åŸå§‹ç±»å‹Classæ–¹æ³•ï¼Œæ³¨æ„ï¼ŒgetPrimitiveClassè·å–çš„æ˜¯åŸå§‹ç±»å‹ï¼Œå¹¶ä¸æ˜¯åŒ…è£…ç±»å‹ï¼Œåªæ˜¯å¯ä»¥ä½¿ç”¨åŒ…è£…ç±»æ¥è¡¨ç¤ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Class&lt;?&gt; clazz = <span class="hljs-keyword">int</span>.class;<br>    System.out.println(Integer.TYPE == <span class="hljs-keyword"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Class&lt;?&gt; clazz = <span class="hljs-keyword">int</span>.class;<br>    System.out.println(Integer.TYPE == <span class="hljs-keyword">int</span>.class);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>é€šè¿‡å¯¹æ¯”ï¼Œæˆ‘ä»¬å‘ç°å®é™…ä¸ŠåŒ…è£…ç±»å‹éƒ½æœ‰ä¸€ä¸ªTYPEï¼Œå…¶å®ä¹Ÿå°±æ˜¯åŸºæœ¬ç±»å‹çš„Classï¼Œé‚£ä¹ˆåŒ…è£…ç±»çš„Classå’ŒåŸºæœ¬ç±»çš„Classä¸€æ ·å—ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    System.out.println(Integer.TYPE == Integer.class);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å‘ç°ï¼ŒåŒ…è£…ç±»å‹çš„Classå¯¹è±¡å¹¶ä¸æ˜¯åŸºæœ¬ç±»å‹Classå¯¹è±¡ã€‚æ•°ç»„ç±»å‹ä¹Ÿæ˜¯ä¸€ç§ç±»å‹ï¼Œåªæ˜¯ç¼–ç¨‹ä¸å¯è§ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥è·å–æ•°ç»„çš„Classå¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Class&lt;String[]&gt; clazz = String[].class;<br>    System.out.println(clazz.getName());  <span class="hljs-comment">//è·å–ç±»åç§°ï¼ˆå¾—åˆ°çš„æ˜¯åŒ…å+ç±»åçš„å®Œæ•´åç§°ï¼‰</span><br>    System.out.println(clazz.getSimpleName());<br>    System.out.println(clazz.getTypeName());<br>    System.out.println(clazz.getClassLoader());   <span class="hljs-comment">//è·å–å®ƒçš„ç±»åŠ è½½å™¨</span><br>    System.out.println(clazz.cast(<span class="hljs-keyword">new</span> Integer(<span class="hljs-string">&quot;10&quot;</span>)));   <span class="hljs-comment"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Class&lt;String[]&gt; clazz = String[].class;<br>    System.out.println(clazz.getName());  <span class="hljs-comment">//è·å–ç±»åç§°ï¼ˆå¾—åˆ°çš„æ˜¯åŒ…å+ç±»åçš„å®Œæ•´åç§°ï¼‰</span><br>    System.out.println(clazz.getSimpleName());<br>    System.out.println(clazz.getTypeName());<br>    System.out.println(clazz.getClassLoader());   <span class="hljs-comment">//è·å–å®ƒçš„ç±»åŠ è½½å™¨</span><br>    System.out.println(clazz.cast(<span class="hljs-keyword">new</span> Integer(<span class="hljs-string">&quot;10&quot;</span>)));   <span class="hljs-comment">//å¼ºåˆ¶ç±»å‹è½¬æ¢</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="å†è°ˆinstanceof"><a href="#å†è°ˆinstanceof" class="headerlink" title="å†è°ˆinstanceof"></a>å†è°ˆinstanceof</h3><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨instanceofè¿›è¡Œç±»å‹æ¯”è¾ƒï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    String str = <span class="hljs-string">&quot;&quot;</span>;<br>    System.out.println(str <span class="hljs-keyword"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    String str = <span class="hljs-string">&quot;&quot;</span>;<br>    System.out.println(str <span class="hljs-keyword">instanceof</span> String);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å®ƒå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ­¤æ¥å£æˆ–æ˜¯ç±»çš„å®ç°æˆ–æ˜¯å­ç±»ï¼Œè€Œç°åœ¨æˆ‘ä»¬æœ‰äº†æ›´å¤šçš„æ–¹å¼å»åˆ¤æ–­ç±»å‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    String str = <span class="hljs-string">&quot;&quot;</span>;<br>    System.out.println(str.getClass() == String.class);   <span class="hljs-comment"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    String str = <span class="hljs-string">&quot;&quot;</span>;<br>    System.out.println(str.getClass() == String.class);   <span class="hljs-comment">//ç›´æ¥åˆ¤æ–­æ˜¯å¦ä¸ºè¿™ä¸ªç±»å‹</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>å¦‚æœéœ€è¦åˆ¤æ–­æ˜¯å¦ä¸ºå­ç±»æˆ–æ˜¯æ¥å£/æŠ½è±¡ç±»çš„å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>asSubClass()</code>æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Integer i = <span class="hljs-number">10</span>;<br>    i.getClass().asSubclass(Number.class);   <span class="hljs-comment"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Integer i = <span class="hljs-number">10</span>;<br>    i.getClass().asSubclass(Number.class);   <span class="hljs-comment">//å½“Integerä¸æ˜¯Numberçš„å­ç±»æ—¶ï¼Œä¼šäº§ç”Ÿå¼‚å¸¸</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="è·å–çˆ¶ç±»ä¿¡æ¯"><a href="#è·å–çˆ¶ç±»ä¿¡æ¯" class="headerlink" title="è·å–çˆ¶ç±»ä¿¡æ¯"></a>è·å–çˆ¶ç±»ä¿¡æ¯</h3><p>é€šè¿‡<code>getSuperclass()</code>æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°çˆ¶ç±»çš„Classå¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Integer i = <span class="hljs-number"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Integer i = <span class="hljs-number">10</span>;<br>    System.out.println(i.getClass().getSuperclass());<br>&#125;<br></code></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥é€šè¿‡<code>getGenericSuperclass()</code>è·å–çˆ¶ç±»çš„åŸå§‹ç±»å‹çš„Typeï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Integer i = <span class="hljs-number">10</span>;<br>    Type type = i.getClass().getGenericSuperclass();<br>    System.out.println(type);<br>    System.out.println(type <span class="hljs-keyword"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Integer i = <span class="hljs-number">10</span>;<br>    Type type = i.getClass().getGenericSuperclass();<br>    System.out.println(type);<br>    System.out.println(type <span class="hljs-keyword">instanceof</span> Class);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å‘ç°Typeå®é™…ä¸Šæ˜¯Classç±»çš„çˆ¶æ¥å£ï¼Œä½†æ˜¯è·å–åˆ°çš„Typeçš„å®ç°å¹¶ä¸ä¸€å®šæ˜¯Classã€‚</p>
<p>åŒç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åƒä¸Šé¢è¿™æ ·è·å–çˆ¶æ¥å£ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Integer i = <span class="hljs-number">10</span>;<br>    <span class="hljs-keyword">for</span> (Class&lt;?&gt; anInterface : i.getClass().getInterfaces()) &#123;<br>        System.out.println(anInterface.getName());<br>    &#125;<br>  <br>  	<span class="hljs-keyword"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Integer i = <span class="hljs-number">10</span>;<br>    <span class="hljs-keyword">for</span> (Class&lt;?&gt; anInterface : i.getClass().getInterfaces()) &#123;<br>        System.out.println(anInterface.getName());<br>    &#125;<br>  <br>  	<span class="hljs-keyword">for</span> (Type genericInterface : i.getClass().getGenericInterfaces()) &#123;<br>        System.out.println(genericInterface.getTypeName());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<hr>
<h2 id="åˆ›å»ºç±»å¯¹è±¡"><a href="#åˆ›å»ºç±»å¯¹è±¡" class="headerlink" title="åˆ›å»ºç±»å¯¹è±¡"></a>åˆ›å»ºç±»å¯¹è±¡</h2><p>æ—¢ç„¶æˆ‘ä»¬æ‹¿åˆ°äº†ç±»çš„å®šä¹‰ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥é€šè¿‡Classå¯¹è±¡æ¥åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æ–¹æ³•ã€ä¿®æ”¹å˜é‡å‘¢ï¼Ÿå½“ç„¶æ˜¯å¯ä»¥çš„ï¼Œé‚£æˆ‘ä»¬é¦–å…ˆæ¥æ¢è®¨ä¸€ä¸‹å¦‚ä½•åˆ›å»ºä¸€ä¸ªç±»çš„å¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InstantiationException, IllegalAccessException </span>&#123;<br>    Class&lt;Student&gt; clazz = Student.class;<br>    Student student = clazz.newInstance();<br>    student.test();<br>&#125;<br><br><span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InstantiationException, IllegalAccessException </span>&#123;<br>    Class&lt;Student&gt; clazz = Student.class;<br>    Student student = clazz.newInstance();<br>    student.test();<br>&#125;<br><br><span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"è¨æ—¥æœ—"</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>é€šè¿‡ä½¿ç”¨<code>newInstance()</code>æ–¹æ³•æ¥åˆ›å»ºå¯¹åº”ç±»å‹çš„å®ä¾‹ï¼Œè¿”å›æ³›å‹Tï¼Œæ³¨æ„å®ƒä¼šæŠ›å‡ºInstantiationExceptionå’ŒIllegalAccessExceptionå¼‚å¸¸ï¼Œé‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°å¼‚å¸¸å‘¢ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InstantiationException, IllegalAccessException </span>&#123;<br>    Class&lt;Student&gt; clazz = Student.class;<br>    Student student = clazz.newInstance();<br>    student.test();<br>&#125;<br><br><span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span></span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Student</span><span class="hljs-params">(String text)</span></span>&#123;<br>        <br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InstantiationException, IllegalAccessException </span>&#123;<br>    Class&lt;Student&gt; clazz = Student.class;<br>    Student student = clazz.newInstance();<br>    student.test();<br>&#125;<br><br><span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span></span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Student</span><span class="hljs-params">(String text)</span></span>&#123;<br>        <br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"è¨æ—¥æœ—"</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å½“ç±»é»˜è®¤çš„æ„é€ æ–¹æ³•è¢«å¸¦å‚æ„é€ è¦†ç›–æ—¶ï¼Œä¼šå‡ºç°InstantiationExceptionå¼‚å¸¸ï¼Œå› ä¸º<code>newInstance()</code>åªé€‚ç”¨äºé»˜è®¤æ— å‚æ„é€ ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InstantiationException, IllegalAccessException </span>&#123;<br>    Class&lt;Student&gt; clazz = Student.class;<br>    Student student = clazz.newInstance();<br>    student.test();<br>&#125;<br><br><span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span></span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Student</span><span class="hljs-params">()</span></span>&#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InstantiationException, IllegalAccessException </span>&#123;<br>    Class&lt;Student&gt; clazz = Student.class;<br>    Student student = clazz.newInstance();<br>    student.test();<br>&#125;<br><br><span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span></span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Student</span><span class="hljs-params">()</span></span>&#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"è¨æ—¥æœ—"</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å½“é»˜è®¤æ— å‚æ„é€ çš„æƒé™ä¸æ˜¯<code>public</code>æ—¶ï¼Œä¼šå‡ºç°IllegalAccessExceptionå¼‚å¸¸ï¼Œè¡¨ç¤ºæˆ‘ä»¬æ— æƒå»è°ƒç”¨é»˜è®¤æ„é€ æ–¹æ³•ã€‚åœ¨JDK9ä¹‹åï¼Œä¸å†æ¨èä½¿ç”¨<code>newInstance()</code>æ–¹æ³•äº†ï¼Œè€Œæ˜¯ä½¿ç”¨æˆ‘ä»¬æ¥ä¸‹æ¥è¦ä»‹ç»åˆ°çš„ï¼Œé€šè¿‡è·å–æ„é€ å™¨ï¼Œæ¥å®ä¾‹åŒ–å¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException </span>&#123;<br>    Class&lt;Student&gt; clazz = Student.class;<br>    Student student = clazz.getConstructor(String.class).newInstance(<span class="hljs-string">&quot;what&#x27;s up&quot;</span>);<br>    student.test();<br>&#125;<br><br><span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span></span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Student</span><span class="hljs-params">(String str)</span></span>&#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException </span>&#123;<br>    Class&lt;Student&gt; clazz = Student.class;<br>    Student student = clazz.getConstructor(String.class).newInstance(<span class="hljs-string">&quot;what&#x27;s up&quot;</span>);<br>    student.test();<br>&#125;<br><br><span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span></span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Student</span><span class="hljs-params">(String str)</span></span>&#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"è¨æ—¥æœ—"</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>é€šè¿‡è·å–ç±»çš„æ„é€ æ–¹æ³•ï¼ˆæ„é€ å™¨ï¼‰æ¥åˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œä¼šæ›´åŠ åˆç†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>getConstructor()</code>æ–¹æ³•æ¥è·å–ç±»çš„æ„é€ æ–¹æ³•ï¼ŒåŒæ—¶æˆ‘ä»¬éœ€è¦å‘å…¶ä¸­å¡«å…¥å‚æ•°ï¼Œä¹Ÿå°±æ˜¯æ„é€ æ–¹æ³•éœ€è¦çš„ç±»å‹ï¼Œå½“ç„¶æˆ‘ä»¬è¿™é‡Œåªæ¼”ç¤ºäº†ã€‚é‚£ä¹ˆï¼Œå½“è®¿é—®æƒé™ä¸æ˜¯publicçš„æ—¶å€™å‘¢ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException </span>&#123;<br>    Class&lt;Student&gt; clazz = Student.class;<br>    Student student = clazz.getConstructor(String.class).newInstance(<span class="hljs-string">&quot;what&#x27;s up&quot;</span>);<br>    student.test();<br>&#125;<br><br><span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span></span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Student</span><span class="hljs-params">(String str)</span></span>&#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException </span>&#123;<br>    Class&lt;Student&gt; clazz = Student.class;<br>    Student student = clazz.getConstructor(String.class).newInstance(<span class="hljs-string">&quot;what&#x27;s up&quot;</span>);<br>    student.test();<br>&#125;<br><br><span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span></span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Student</span><span class="hljs-params">(String str)</span></span>&#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"è¨æ—¥æœ—"</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å‘ç°ï¼Œå½“è®¿é—®æƒé™ä¸è¶³æ—¶ï¼Œä¼šæ— æ³•æ‰¾åˆ°æ­¤æ„é€ æ–¹æ³•ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰¾åˆ°épublicçš„æ„é€ æ–¹æ³•å‘¢ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class=" language-hljs java">Class&lt;Student&gt; clazz = Student.class;<br>Constructor&lt;Student&gt; constructor = clazz.getDeclaredConstructor(String.class);<br>constructor.setAccessible(<span class="hljs-keyword">true</span>);   <span class="hljs-comment">//ä¿®æ”¹è®¿é—®æƒé™</span><br>Student student = constructor.newInstance(<span class="hljs-string"><code class="language-hljs java">Class&lt;Student&gt; clazz = Student.class;<br>Constructor&lt;Student&gt; constructor = clazz.getDeclaredConstructor(String.class);<br>constructor.setAccessible(<span class="hljs-keyword">true</span>);   <span class="hljs-comment">//ä¿®æ”¹è®¿é—®æƒé™</span><br>Student student = constructor.newInstance(<span class="hljs-string">"what&#x27;s up"</span>);<br>student.test();<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>getDeclaredConstructor()</code>æ–¹æ³•å¯ä»¥æ‰¾åˆ°ç±»ä¸­çš„épublicæ„é€ æ–¹æ³•ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆä¿®æ”¹è®¿é—®æƒé™ï¼Œåœ¨ä¿®æ”¹è®¿é—®æƒé™ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨épublicæ–¹æ³•äº†ï¼ˆè¿™æ„å‘³ç€ï¼Œåå°„å¯ä»¥æ— è§†æƒé™ä¿®é¥°ç¬¦è®¿é—®ç±»çš„å†…å®¹ï¼‰</p>
<hr>
<h2 id="è°ƒç”¨ç±»çš„æ–¹æ³•"><a href="#è°ƒç”¨ç±»çš„æ–¹æ³•" class="headerlink" title="è°ƒç”¨ç±»çš„æ–¹æ³•"></a>è°ƒç”¨ç±»çš„æ–¹æ³•</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æ¥è°ƒç”¨ç±»çš„æ–¹æ³•ï¼ˆæœ¬è´¨ä¸Šè¿˜æ˜¯ç±»çš„å®ä¾‹è¿›è¡Œè°ƒç”¨ï¼‰åªæ˜¯åˆ©ç”¨åå°„æœºåˆ¶å®ç°äº†æ–¹æ³•çš„è°ƒç”¨ï¼Œæˆ‘ä»¬åœ¨åŒ…ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-keyword">package</span> com.test;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">(String str)</span></span>&#123;<br>        System.out.println(<span class="hljs-string"><code class="language-hljs java"><span class="hljs-keyword">package</span> com.test;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">(String str)</span></span>&#123;<br>        System.out.println(<span class="hljs-string">"è¨æ—¥æœ—"</span>+str);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™æ¬¡æˆ‘ä»¬é€šè¿‡<code>forName(String)</code>æ¥æ‰¾åˆ°è¿™ä¸ªç±»å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ReflectiveOperationException </span>&#123;<br>    Class&lt;?&gt; clazz = Class.forName(<span class="hljs-string">&quot;com.test.Student&quot;</span>);<br>    Object instance = clazz.newInstance();   <span class="hljs-comment">//åˆ›å»ºå‡ºå­¦ç”Ÿå¯¹è±¡</span><br>    Method method = clazz.getMethod(<span class="hljs-string">&quot;test&quot;</span>, String.class);   <span class="hljs-comment">//é€šè¿‡æ–¹æ³•åå’Œå½¢å‚ç±»å‹è·å–ç±»ä¸­çš„æ–¹æ³•</span><br>    <br>    method.invoke(instance, <span class="hljs-string">&quot;what&#x27;s up&quot;</span>);   <span class="hljs-comment"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ReflectiveOperationException </span>&#123;<br>    Class&lt;?&gt; clazz = Class.forName(<span class="hljs-string">&quot;com.test.Student&quot;</span>);<br>    Object instance = clazz.newInstance();   <span class="hljs-comment">//åˆ›å»ºå‡ºå­¦ç”Ÿå¯¹è±¡</span><br>    Method method = clazz.getMethod(<span class="hljs-string">&quot;test&quot;</span>, String.class);   <span class="hljs-comment">//é€šè¿‡æ–¹æ³•åå’Œå½¢å‚ç±»å‹è·å–ç±»ä¸­çš„æ–¹æ³•</span><br>    <br>    method.invoke(instance, <span class="hljs-string">&quot;what&#x27;s up&quot;</span>);   <span class="hljs-comment">//é€šè¿‡Methodå¯¹è±¡çš„invokeæ–¹æ³•æ¥è°ƒç”¨æ–¹æ³•</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>é€šè¿‡è°ƒç”¨<code>getMethod()</code>æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°ç±»ä¸­æ‰€æœ‰å£°æ˜ä¸ºpublicçš„æ–¹æ³•ï¼Œå¾—åˆ°ä¸€ä¸ªMethodå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Methodå¯¹è±¡çš„<code>invoke()</code>æ–¹æ³•ï¼ˆè¿”å›å€¼å°±æ˜¯æ–¹æ³•çš„è¿”å›å€¼ï¼Œå› ä¸ºè¿™é‡Œæ˜¯voidï¼Œè¿”å›å€¼ä¸ºnullï¼‰æ¥è°ƒç”¨å·²ç»è·å–åˆ°çš„æ–¹æ³•ï¼Œæ³¨æ„ä¼ å‚ã€‚</p>
<p>æˆ‘ä»¬å‘ç°ï¼Œåˆ©ç”¨åå°„ä¹‹åï¼Œåœ¨ä¸€ä¸ªå¯¹è±¡ä»æ„é€ åˆ°æ–¹æ³•è°ƒç”¨ï¼Œæ²¡æœ‰ä»»ä½•ä¸€å¤„éœ€è¦å¼•ç”¨åˆ°å¯¹è±¡çš„å®é™…ç±»å‹ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰å¯¼å…¥Studentç±»ï¼Œæ•´ä¸ªè¿‡ç¨‹éƒ½æ˜¯åå°„åœ¨ä»£æ›¿è¿›è¡Œæ“ä½œï¼Œä½¿å¾—æ•´ä¸ªè¿‡ç¨‹è¢«æ¨¡ç³Šäº†ï¼Œè¿‡å¤šçš„ä½¿ç”¨åå°„ï¼Œä¼šæå¤§åœ°é™ä½åæœŸç»´æŠ¤æ€§ã€‚</p>
<p>åŒæ„é€ æ–¹æ³•ä¸€æ ·ï¼Œå½“å‡ºç°épublicæ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æ¥æ— è§†æƒé™ä¿®é¥°ç¬¦ï¼Œè·å–épublicæ–¹æ³•å¹¶è°ƒç”¨ï¼Œç°åœ¨æˆ‘ä»¬å°†<code>test()</code>æ–¹æ³•çš„æƒé™ä¿®é¥°ç¬¦æ”¹ä¸ºprivateï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ReflectiveOperationException </span>&#123;<br>    Class&lt;?&gt; clazz = Class.forName(<span class="hljs-string">&quot;com.test.Student&quot;</span>);<br>    Object instance = clazz.newInstance();   <span class="hljs-comment">//åˆ›å»ºå‡ºå­¦ç”Ÿå¯¹è±¡</span><br>    Method method = clazz.getDeclaredMethod(<span class="hljs-string">&quot;test&quot;</span>, String.class);   <span class="hljs-comment">//é€šè¿‡æ–¹æ³•åå’Œå½¢å‚ç±»å‹è·å–ç±»ä¸­çš„æ–¹æ³•</span><br>    method.setAccessible(<span class="hljs-keyword">true</span>);<br><br>    method.invoke(instance, <span class="hljs-string">&quot;what&#x27;s up&quot;</span>);   <span class="hljs-comment"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ReflectiveOperationException </span>&#123;<br>    Class&lt;?&gt; clazz = Class.forName(<span class="hljs-string">&quot;com.test.Student&quot;</span>);<br>    Object instance = clazz.newInstance();   <span class="hljs-comment">//åˆ›å»ºå‡ºå­¦ç”Ÿå¯¹è±¡</span><br>    Method method = clazz.getDeclaredMethod(<span class="hljs-string">&quot;test&quot;</span>, String.class);   <span class="hljs-comment">//é€šè¿‡æ–¹æ³•åå’Œå½¢å‚ç±»å‹è·å–ç±»ä¸­çš„æ–¹æ³•</span><br>    method.setAccessible(<span class="hljs-keyword">true</span>);<br><br>    method.invoke(instance, <span class="hljs-string">&quot;what&#x27;s up&quot;</span>);   <span class="hljs-comment">//é€šè¿‡Methodå¯¹è±¡çš„invokeæ–¹æ³•æ¥è°ƒç”¨æ–¹æ³•</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>Methodå’ŒConstructoréƒ½å’ŒClassä¸€æ ·ï¼Œä»–ä»¬å­˜å‚¨äº†æ–¹æ³•çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ–¹æ³•çš„å½¢å¼å‚æ•°åˆ—è¡¨ï¼Œè¿”å›å€¼ï¼Œæ–¹æ³•çš„åç§°ç­‰å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡Methodå¯¹è±¡æ¥è·å–è¿™äº›ä¿¡æ¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ReflectiveOperationException </span>&#123;<br>    Class&lt;?&gt; clazz = Class.forName(<span class="hljs-string">&quot;com.test.Student&quot;</span>);<br>    Method method = clazz.getDeclaredMethod(<span class="hljs-string">&quot;test&quot;</span>, String.class);   <span class="hljs-comment">//é€šè¿‡æ–¹æ³•åå’Œå½¢å‚ç±»å‹è·å–ç±»ä¸­çš„æ–¹æ³•</span><br>    <br>    System.out.println(method.getName());   <span class="hljs-comment">//è·å–æ–¹æ³•åç§°</span><br>    System.out.println(method.getReturnType());   <span class="hljs-comment"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ReflectiveOperationException </span>&#123;<br>    Class&lt;?&gt; clazz = Class.forName(<span class="hljs-string">&quot;com.test.Student&quot;</span>);<br>    Method method = clazz.getDeclaredMethod(<span class="hljs-string">&quot;test&quot;</span>, String.class);   <span class="hljs-comment">//é€šè¿‡æ–¹æ³•åå’Œå½¢å‚ç±»å‹è·å–ç±»ä¸­çš„æ–¹æ³•</span><br>    <br>    System.out.println(method.getName());   <span class="hljs-comment">//è·å–æ–¹æ³•åç§°</span><br>    System.out.println(method.getReturnType());   <span class="hljs-comment">//è·å–è¿”å›å€¼ç±»å‹</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>å½“æ–¹æ³•çš„å‚æ•°ä¸ºå¯å˜å‚æ•°æ—¶ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•è·å–æ–¹æ³•å‘¢ï¼Ÿå®é™…ä¸Šï¼Œæˆ‘ä»¬åœ¨ä¹‹å‰å°±å·²ç»æåˆ°è¿‡ï¼Œå¯å˜å‚æ•°å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨æ•°ç»„çš„classå¯¹è±¡è¡¨ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class=" language-hljs java">Method method = clazz.getDeclaredMethod(<span class="hljs-string"><code class="language-hljs java">Method method = clazz.getDeclaredMethod(<span class="hljs-string">"test"</span>, String[].class);<br></code></pre></td></tr></table></figure>

<p>åå°„éå¸¸å¼ºå¤§ï¼Œå°¤å…¶æ˜¯æˆ‘ä»¬æåˆ°çš„è¶Šæƒè®¿é—®ï¼Œä½†æ˜¯è¯·ä¸€å®šè°¨æ…ä½¿ç”¨ï¼Œåˆ«äººå°†æŸä¸ªæ–¹æ³•è®¾ç½®ä¸ºprivateä¸€å®šæœ‰ä»–çš„ç†ç”±ï¼Œå¦‚æœå®åœ¨æ˜¯éœ€è¦ä½¿ç”¨åˆ«äººå®šä¹‰ä¸ºprivateçš„æ–¹æ³•ï¼Œå°±å¿…é¡»ç¡®ä¿è¿™æ ·åšæ˜¯å®‰å…¨çš„ï¼Œåœ¨æ²¡æœ‰äº†è§£åˆ«äººä»£ç çš„æ•´ä¸ªè¿‡ç¨‹å°±å¼ºè¡Œè¶Šæƒè®¿é—®ï¼Œå¯èƒ½ä¼šå‡ºç°æ— æ³•é¢„çŸ¥çš„é”™è¯¯ã€‚</p>
<hr>
<h2 id="ä¿®æ”¹ç±»çš„å±æ€§"><a href="#ä¿®æ”¹ç±»çš„å±æ€§" class="headerlink" title="ä¿®æ”¹ç±»çš„å±æ€§"></a>ä¿®æ”¹ç±»çš„å±æ€§</h2><p>æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡åå°„è®¿é—®ä¸€ä¸ªç±»ä¸­å®šä¹‰çš„æˆå‘˜å­—æ®µä¹Ÿå¯ä»¥ä¿®æ”¹ä¸€ä¸ªç±»çš„å¯¹è±¡ä¸­çš„æˆå‘˜å­—æ®µå€¼ï¼Œé€šè¿‡<code>getField()</code>æ–¹æ³•æ¥è·å–ä¸€ä¸ªç±»å®šä¹‰çš„æŒ‡å®šå­—æ®µï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ReflectiveOperationException </span>&#123;<br>    Class&lt;?&gt; clazz = Class.forName(<span class="hljs-string">&quot;com.test.Student&quot;</span>);<br>    Object instance = clazz.newInstance();<br><br>    Field field = clazz.getField(<span class="hljs-string">&quot;i&quot;</span>);   <span class="hljs-comment">//è·å–ç±»çš„æˆå‘˜å­—æ®µi</span><br>    field.set(instance, <span class="hljs-number">100</span>);   <span class="hljs-comment">//å°†ç±»å®ä¾‹instanceçš„æˆå‘˜å­—æ®µiè®¾ç½®ä¸º100</span><br><br>    Method method = clazz.getMethod(<span class="hljs-string"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ReflectiveOperationException </span>&#123;<br>    Class&lt;?&gt; clazz = Class.forName(<span class="hljs-string">&quot;com.test.Student&quot;</span>);<br>    Object instance = clazz.newInstance();<br><br>    Field field = clazz.getField(<span class="hljs-string">&quot;i&quot;</span>);   <span class="hljs-comment">//è·å–ç±»çš„æˆå‘˜å­—æ®µi</span><br>    field.set(instance, <span class="hljs-number">100</span>);   <span class="hljs-comment">//å°†ç±»å®ä¾‹instanceçš„æˆå‘˜å­—æ®µiè®¾ç½®ä¸º100</span><br><br>    Method method = clazz.getMethod(<span class="hljs-string">"test"</span>);<br>    method.invoke(instance);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>åœ¨å¾—åˆ°Fieldä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥é€šè¿‡<code>set()</code>æ–¹æ³•ä¸ºæŸä¸ªå¯¹è±¡ï¼Œè®¾å®šæ­¤å±æ€§çš„å€¼ï¼Œæ¯”å¦‚ä¸Šé¢ï¼Œæˆ‘ä»¬å°±ä¸ºinstanceå¯¹è±¡è®¾å®šå€¼ä¸º100ï¼Œå½“è®¿é—®privateå­—æ®µæ—¶ï¼ŒåŒæ ·å¯ä»¥æŒ‰ç…§ä¸Šé¢çš„æ“ä½œè¿›è¡Œè¶Šæƒè®¿é—®ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ReflectiveOperationException </span>&#123;<br>    Class&lt;?&gt; clazz = Class.forName(<span class="hljs-string">&quot;com.test.Student&quot;</span>);<br>    Object instance = clazz.newInstance();<br><br>    Field field = clazz.getDeclaredField(<span class="hljs-string">&quot;i&quot;</span>);   <span class="hljs-comment">//è·å–ç±»çš„æˆå‘˜å­—æ®µi</span><br>    field.setAccessible(<span class="hljs-keyword">true</span>);<br>    field.set(instance, <span class="hljs-number">100</span>);   <span class="hljs-comment">//å°†ç±»å®ä¾‹instanceçš„æˆå‘˜å­—æ®µiè®¾ç½®ä¸º100</span><br><br>    Method method = clazz.getMethod(<span class="hljs-string"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ReflectiveOperationException </span>&#123;<br>    Class&lt;?&gt; clazz = Class.forName(<span class="hljs-string">&quot;com.test.Student&quot;</span>);<br>    Object instance = clazz.newInstance();<br><br>    Field field = clazz.getDeclaredField(<span class="hljs-string">&quot;i&quot;</span>);   <span class="hljs-comment">//è·å–ç±»çš„æˆå‘˜å­—æ®µi</span><br>    field.setAccessible(<span class="hljs-keyword">true</span>);<br>    field.set(instance, <span class="hljs-number">100</span>);   <span class="hljs-comment">//å°†ç±»å®ä¾‹instanceçš„æˆå‘˜å­—æ®µiè®¾ç½®ä¸º100</span><br><br>    Method method = clazz.getMethod(<span class="hljs-string">"test"</span>);<br>    method.invoke(instance);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œåå°„å‡ ä¹å¯ä»¥æŠŠä¸€ä¸ªç±»çš„è€åº•éƒ½ç»™æ‰’å‡ºæ¥ï¼Œä»»ä½•å±æ€§ï¼Œä»»ä½•å†…å®¹ï¼Œéƒ½å¯ä»¥è¢«åå°„ä¿®æ”¹ï¼Œæ— è®ºæƒé™ä¿®é¥°ç¬¦æ˜¯ä»€ä¹ˆï¼Œé‚£ä¹ˆï¼Œå¦‚æœæˆ‘çš„å­—æ®µè¢«æ ‡è®°ä¸ºfinalå‘¢ï¼Ÿç°åœ¨åœ¨å­—æ®µ<code>i</code>å‰é¢æ·»åŠ <code>final</code>å…³é”®å­—ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹æ•ˆæœï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> i = <span class="hljs-number"><code class="language-hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> i = <span class="hljs-number">10</span>;<br></code></pre></td></tr></table></figure>

<p>è¿™æ—¶ï¼Œå½“å­—æ®µä¸ºfinalæ—¶ï¼Œå°±ä¿®æ”¹å¤±è´¥äº†ï¼å½“ç„¶ï¼Œé€šè¿‡åå°„å¯ä»¥ç›´æ¥å°†finalä¿®é¥°ç¬¦ç›´æ¥å»é™¤ï¼Œå»é™¤åï¼Œå°±å¯ä»¥éšæ„ä¿®æ”¹å†…å®¹äº†ï¼Œæˆ‘ä»¬æ¥å°è¯•ä¿®æ”¹Integerçš„valueå€¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ReflectiveOperationException </span>&#123;<br>    Integer i = <span class="hljs-number">10</span>;<br><br>    Field field = Integer.class.getDeclaredField(<span class="hljs-string">&quot;value&quot;</span>);<br><br>    Field modifiersField = Field.class.getDeclaredField(<span class="hljs-string">&quot;modifiers&quot;</span>);  <span class="hljs-comment">//è¿™é‡Œè¦è·å–Fieldç±»çš„modifierså­—æ®µè¿›è¡Œä¿®æ”¹</span><br>    modifiersField.setAccessible(<span class="hljs-keyword">true</span>);<br>    modifiersField.setInt(field,field.getModifiers()&amp;~Modifier.FINAL);  <span class="hljs-comment">//å»é™¤finalæ ‡è®°</span><br><br>    field.setAccessible(<span class="hljs-keyword">true</span>);<br>    field.set(i, <span class="hljs-number">100</span>);   <span class="hljs-comment"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ReflectiveOperationException </span>&#123;<br>    Integer i = <span class="hljs-number">10</span>;<br><br>    Field field = Integer.class.getDeclaredField(<span class="hljs-string">&quot;value&quot;</span>);<br><br>    Field modifiersField = Field.class.getDeclaredField(<span class="hljs-string">&quot;modifiers&quot;</span>);  <span class="hljs-comment">//è¿™é‡Œè¦è·å–Fieldç±»çš„modifierså­—æ®µè¿›è¡Œä¿®æ”¹</span><br>    modifiersField.setAccessible(<span class="hljs-keyword">true</span>);<br>    modifiersField.setInt(field,field.getModifiers()&amp;~Modifier.FINAL);  <span class="hljs-comment">//å»é™¤finalæ ‡è®°</span><br><br>    field.setAccessible(<span class="hljs-keyword">true</span>);<br>    field.set(i, <span class="hljs-number">100</span>);   <span class="hljs-comment">//å¼ºè¡Œè®¾ç½®å€¼</span><br><br>    System.out.println(i);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåå°„éå¸¸æš´åŠ›ï¼Œå°±è¿è¢«å®šä¹‰ä¸ºfinalå­—æ®µçš„å€¼éƒ½èƒ½å¼ºè¡Œä¿®æ”¹ï¼Œå‡ ä¹èƒ½å¤Ÿæ— è§†ä¸€åˆ‡é˜»æ‹¦ã€‚æˆ‘ä»¬æ¥è¯•è¯•çœ‹ä¿®æ”¹ä¸€äº›å…¶ä»–çš„ç±»å‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ReflectiveOperationException </span>&#123;<br>    List&lt;String&gt; i = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br><br>    Field field = ArrayList.class.getDeclaredField(<span class="hljs-string">&quot;size&quot;</span>);<br>    field.setAccessible(<span class="hljs-keyword">true</span>);<br>    field.set(i, <span class="hljs-number">10</span>);<br><br>    i.add(<span class="hljs-string">&quot;æµ‹è¯•&quot;</span>);   <span class="hljs-comment">//åªæ·»åŠ ä¸€ä¸ªå…ƒç´ </span><br>    System.out.println(i.size());  <span class="hljs-comment">//å¤§å°ç›´æ¥å˜æˆ11</span><br>    i.remove(<span class="hljs-number">10</span>);   <span class="hljs-comment"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ReflectiveOperationException </span>&#123;<br>    List&lt;String&gt; i = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br><br>    Field field = ArrayList.class.getDeclaredField(<span class="hljs-string">&quot;size&quot;</span>);<br>    field.setAccessible(<span class="hljs-keyword">true</span>);<br>    field.set(i, <span class="hljs-number">10</span>);<br><br>    i.add(<span class="hljs-string">&quot;æµ‹è¯•&quot;</span>);   <span class="hljs-comment">//åªæ·»åŠ ä¸€ä¸ªå…ƒç´ </span><br>    System.out.println(i.size());  <span class="hljs-comment">//å¤§å°ç›´æ¥å˜æˆ11</span><br>    i.remove(<span class="hljs-number">10</span>);   <span class="hljs-comment">//çç§»é™¤éƒ½ä¸å¸¦æŠ¥é”™çš„ï¼Œæ·¦</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>å®é™…ä¸Šï¼Œæ•´ä¸ªArrayListä½“ç³»ç”±äºæˆ‘ä»¬çš„åå°„æ“ä½œï¼Œå¯¼è‡´è¢«ç ´åï¼Œå› æ­¤å®ƒå·²ç»æ— æ³•æ­£å¸¸å·¥ä½œäº†ï¼</p>
<p>å†æ¬¡å¼ºè°ƒï¼Œåœ¨è¿›è¡Œåå°„æ“ä½œæ—¶ï¼Œå¿…é¡»æ³¨æ„æ˜¯å¦å®‰å…¨ï¼Œè™½ç„¶æ‹¥æœ‰äº†åˆ›ä¸–ä¸»çš„èƒ½åŠ›ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½æ»¥ç”¨ï¼Œæˆ‘ä»¬åªèƒ½æŠŠå®ƒå½“åšä¸€ä¸ªä¸å¾—å·²æ‰å»ä½¿ç”¨çš„å·¥å…·ï¼</p>
<hr>
<h2 id="è‡ªå®šä¹‰ClassLoaderåŠ è½½ç±»"><a href="#è‡ªå®šä¹‰ClassLoaderåŠ è½½ç±»" class="headerlink" title="è‡ªå®šä¹‰ClassLoaderåŠ è½½ç±»"></a>è‡ªå®šä¹‰ClassLoaderåŠ è½½ç±»</h2><p>æˆ‘ä»¬å¯ä»¥è‡ªå·±æ‰‹åŠ¨å°†classæ–‡ä»¶åŠ è½½åˆ°JVMä¸­å—ï¼Ÿå…ˆå†™å¥½æˆ‘ä»¬å®šä¹‰çš„ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-keyword">package</span> com.test;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> String text;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">(String str)</span></span>&#123;<br>        System.out.println(text+<span class="hljs-string"><code class="language-hljs java"><span class="hljs-keyword">package</span> com.test;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> String text;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">(String str)</span></span>&#123;<br>        System.out.println(text+<span class="hljs-string">" > æˆ‘æ˜¯æµ‹è¯•æ–¹æ³•ï¼"</span>+str);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>é€šè¿‡javacå‘½ä»¤ï¼Œæ‰‹åŠ¨ç¼–è¯‘ä¸€ä¸ª.classæ–‡ä»¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class=" language-hljs shell"><code class="language-hljs shell">nagocoler@NagodeMacBook-Pro HelloWorld % javac src/main/java/com/test/Test.java<br></code></pre></td></tr></table></figure>

<p>ç¼–è¯‘åï¼Œå¾—åˆ°ä¸€ä¸ªclassæ–‡ä»¶ï¼Œæˆ‘ä»¬æŠŠå®ƒæ”¾åˆ°æ ¹ç›®å½•ä¸‹ï¼Œç„¶åç¼–å†™ä¸€ä¸ªæˆ‘ä»¬è‡ªå·±çš„ClassLoaderï¼Œå› ä¸ºæ™®é€šçš„ClassLoaderæ— æ³•åŠ è½½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªè‡ªå·±çš„æ¥è®©å®ƒæ”¯æŒï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªè‡ªå·±çš„ClassLoader</span><br><span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyClassLoader</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ClassLoader</span></span>&#123;<br>    <span class="hljs-keyword">public</span> Class&lt;?&gt; defineClass(String name, <span class="hljs-keyword">byte</span>[] b)&#123;<br>        <span class="hljs-keyword">return</span> defineClass(name, b, <span class="hljs-number">0</span>, b.length);   <span class="hljs-comment">//è°ƒç”¨protectedæ–¹æ³•ï¼Œæ”¯æŒè½½å…¥å¤–éƒ¨classæ–‡ä»¶</span><br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>    MyClassLoader classLoader = <span class="hljs-keyword">new</span> MyClassLoader();<br>    FileInputStream stream = <span class="hljs-keyword">new</span> FileInputStream(<span class="hljs-string">&quot;Test.class&quot;</span>);<br>    <span class="hljs-keyword">byte</span>[] bytes = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[stream.available()];<br>    stream.read(bytes);<br>    Class&lt;?&gt; clazz = classLoader.defineClass(<span class="hljs-string">&quot;com.test.Test&quot;</span>, bytes);   <span class="hljs-comment">//ç±»åå¿…é¡»å’Œæˆ‘ä»¬å®šä¹‰çš„ä¿æŒä¸€è‡´</span><br>    System.out.println(clazz.getName());   <span class="hljs-comment"><code class="language-hljs java"><span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªè‡ªå·±çš„ClassLoader</span><br><span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyClassLoader</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ClassLoader</span></span>&#123;<br>    <span class="hljs-keyword">public</span> Class&lt;?&gt; defineClass(String name, <span class="hljs-keyword">byte</span>[] b)&#123;<br>        <span class="hljs-keyword">return</span> defineClass(name, b, <span class="hljs-number">0</span>, b.length);   <span class="hljs-comment">//è°ƒç”¨protectedæ–¹æ³•ï¼Œæ”¯æŒè½½å…¥å¤–éƒ¨classæ–‡ä»¶</span><br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>    MyClassLoader classLoader = <span class="hljs-keyword">new</span> MyClassLoader();<br>    FileInputStream stream = <span class="hljs-keyword">new</span> FileInputStream(<span class="hljs-string">&quot;Test.class&quot;</span>);<br>    <span class="hljs-keyword">byte</span>[] bytes = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[stream.available()];<br>    stream.read(bytes);<br>    Class&lt;?&gt; clazz = classLoader.defineClass(<span class="hljs-string">&quot;com.test.Test&quot;</span>, bytes);   <span class="hljs-comment">//ç±»åå¿…é¡»å’Œæˆ‘ä»¬å®šä¹‰çš„ä¿æŒä¸€è‡´</span><br>    System.out.println(clazz.getName());   <span class="hljs-comment">//æˆåŠŸåŠ è½½å¤–éƒ¨classæ–‡ä»¶</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œæˆ‘ä»¬å°±å°†æ­¤classæ–‡ä»¶è¯»å–å¹¶è§£æä¸ºClassäº†ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥å¯¹æ­¤ç±»è¿›è¡Œæ“ä½œäº†ï¼ˆæ³¨æ„ï¼Œæˆ‘ä»¬æ— æ³•åœ¨ä»£ç ä¸­ç›´æ¥ä½¿ç”¨æ­¤ç±»å‹ï¼Œå› ä¸ºå®ƒæ˜¯æˆ‘ä»¬ç›´æ¥åŠ è½½çš„ï¼‰ï¼Œæˆ‘ä»¬æ¥è¯•è¯•çœ‹åˆ›å»ºä¸€ä¸ªæ­¤ç±»çš„å¯¹è±¡å¹¶è°ƒç”¨å…¶æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-keyword">try</span> &#123;<br>    Object obj = clazz.newInstance();<br>    Method method = clazz.getMethod(<span class="hljs-string">&quot;test&quot;</span>, String.class);   <span class="hljs-comment">//è·å–æˆ‘ä»¬å®šä¹‰çš„test(String str)æ–¹æ³•</span><br>    method.invoke(obj, <span class="hljs-string">&quot;å“¥ä»¬è¿™ç“œå¤šå°‘é’±ä¸€æ–¤ï¼Ÿ&quot;</span>);<br>&#125;<span class="hljs-keyword"><code class="language-hljs java"><span class="hljs-keyword">try</span> &#123;<br>    Object obj = clazz.newInstance();<br>    Method method = clazz.getMethod(<span class="hljs-string">&quot;test&quot;</span>, String.class);   <span class="hljs-comment">//è·å–æˆ‘ä»¬å®šä¹‰çš„test(String str)æ–¹æ³•</span><br>    method.invoke(obj, <span class="hljs-string">&quot;å“¥ä»¬è¿™ç“œå¤šå°‘é’±ä¸€æ–¤ï¼Ÿ&quot;</span>);<br>&#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;<br>    e.printStackTrace();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ¥è¯•è¯•çœ‹ä¿®æ”¹æˆå‘˜å­—æ®µä¹‹åï¼Œå†æ¥è°ƒç”¨æ­¤æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-keyword">try</span> &#123;<br>    Object obj = clazz.newInstance();<br>    Field field = clazz.getField(<span class="hljs-string">&quot;text&quot;</span>);   <span class="hljs-comment">//è·å–æˆå‘˜å˜é‡ String text;</span><br>    field.set(obj, <span class="hljs-string">&quot;åå¼º&quot;</span>);<br>    Method method = clazz.getMethod(<span class="hljs-string">&quot;test&quot;</span>, String.class);   <span class="hljs-comment">//è·å–æˆ‘ä»¬å®šä¹‰çš„test(String str)æ–¹æ³•</span><br>    method.invoke(obj, <span class="hljs-string">&quot;å“¥ä»¬è¿™ç“œå¤šå°‘é’±ä¸€æ–¤ï¼Ÿ&quot;</span>);<br>&#125;<span class="hljs-keyword"><code class="language-hljs java"><span class="hljs-keyword">try</span> &#123;<br>    Object obj = clazz.newInstance();<br>    Field field = clazz.getField(<span class="hljs-string">&quot;text&quot;</span>);   <span class="hljs-comment">//è·å–æˆå‘˜å˜é‡ String text;</span><br>    field.set(obj, <span class="hljs-string">&quot;åå¼º&quot;</span>);<br>    Method method = clazz.getMethod(<span class="hljs-string">&quot;test&quot;</span>, String.class);   <span class="hljs-comment">//è·å–æˆ‘ä»¬å®šä¹‰çš„test(String str)æ–¹æ³•</span><br>    method.invoke(obj, <span class="hljs-string">&quot;å“¥ä»¬è¿™ç“œå¤šå°‘é’±ä¸€æ–¤ï¼Ÿ&quot;</span>);<br>&#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;<br>    e.printStackTrace();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°å¤–éƒ¨åŠ è½½ç”šè‡³æ˜¯ç½‘ç»œåŠ è½½ä¸€ä¸ªç±»ï¼Œåªéœ€è¦æŠŠç±»æ–‡ä»¶ä¼ é€’å³å¯ï¼Œè¿™æ ·å°±æ— éœ€å†å°†ä»£ç å†™åœ¨æœ¬åœ°ï¼Œè€Œæ˜¯åŠ¨æ€è¿›è¡Œä¼ é€’ï¼Œä¸ä»…å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šé˜²æ­¢æºä»£ç è¢«åç¼–è¯‘ï¼ˆåªæ˜¯ä¸€å®šç¨‹åº¦ä¸Šï¼Œæƒ³ç ´è§£ä½ ä»£ç æœ‰çš„æ˜¯æ–¹æ³•ï¼‰ï¼Œè€Œä¸”åœ¨æ›´å¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹byte[]è¿›è¡ŒåŠ å¯†ï¼Œä¿è¯åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„å®‰å…¨æ€§ã€‚</p>
<hr>
<h2 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h2><p>å…¶å®æˆ‘ä»¬åœ¨ä¹‹å‰å°±æ¥è§¦åˆ°æ³¨è§£äº†ï¼Œæ¯”å¦‚<code>@Override</code>è¡¨ç¤ºé‡å†™çˆ¶ç±»æ–¹æ³•ï¼ˆå½“ç„¶ä¸åŠ æ•ˆæœä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæ­¤æ³¨è§£åœ¨ç¼–è¯‘æ—¶ä¼šè¢«è‡ªåŠ¨ä¸¢å¼ƒï¼‰æ³¨è§£æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªç±»ï¼Œåªä¸è¿‡å®ƒçš„ç”¨æ³•æ¯”è¾ƒç‰¹æ®Šã€‚</p>
<p>æ³¨è§£å¯ä»¥è¢«æ ‡æ³¨åœ¨ä»»æ„åœ°æ–¹ï¼ŒåŒ…æ‹¬æ–¹æ³•ä¸Šã€ç±»åä¸Šã€å‚æ•°ä¸Šã€æˆå‘˜å±æ€§ä¸Šã€æ³¨è§£å®šä¹‰ä¸Šç­‰ï¼Œå°±åƒæ³¨é‡Šä¸€æ ·ï¼Œå®ƒç›¸å½“äºæˆ‘ä»¬å¯¹æŸæ ·ä¸œè¥¿çš„ä¸€ä¸ªæ ‡è®°ã€‚è€Œä¸æ³¨é‡Šä¸åŒçš„æ˜¯ï¼Œæ³¨è§£å¯ä»¥é€šè¿‡åå°„åœ¨è¿è¡Œæ—¶è·å–ï¼Œæ³¨è§£ä¹Ÿå¯ä»¥é€‰æ‹©æ˜¯å¦ä¿ç•™åˆ°è¿è¡Œæ—¶ã€‚</p>
<h3 id="é¢„è®¾æ³¨è§£"><a href="#é¢„è®¾æ³¨è§£" class="headerlink" title="é¢„è®¾æ³¨è§£"></a>é¢„è®¾æ³¨è§£</h3><p>JDKé¢„è®¾äº†ä»¥ä¸‹æ³¨è§£ï¼Œä½œç”¨äºä»£ç ï¼š</p>
<ul>
<li>@Override - æ£€æŸ¥ï¼ˆä»…ä»…æ˜¯æ£€æŸ¥ï¼Œä¸ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼‰è¯¥æ–¹æ³•æ˜¯å¦æ˜¯é‡å†™æ–¹æ³•ã€‚å¦‚æœå‘ç°å…¶çˆ¶ç±»ï¼Œæˆ–è€…æ˜¯å¼•ç”¨çš„æ¥å£ä¸­å¹¶æ²¡æœ‰è¯¥æ–¹æ³•æ—¶ï¼Œä¼šæŠ¥ç¼–è¯‘é”™è¯¯ã€‚</li>
<li>@Deprecated - æ ‡è®°è¿‡æ—¶æ–¹æ³•ã€‚å¦‚æœä½¿ç”¨è¯¥æ–¹æ³•ï¼Œä¼šæŠ¥ç¼–è¯‘è­¦å‘Šã€‚</li>
<li>@SuppressWarnings - æŒ‡ç¤ºç¼–è¯‘å™¨å»å¿½ç•¥æ³¨è§£ä¸­å£°æ˜çš„è­¦å‘Šï¼ˆä»…ä»…ç¼–è¯‘å™¨é˜¶æ®µï¼Œä¸ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼‰</li>
<li>@FunctionalInterface - Java 8 å¼€å§‹æ”¯æŒï¼Œæ ‡è¯†ä¸€ä¸ªåŒ¿åå‡½æ•°æˆ–å‡½æ•°å¼æ¥å£ã€‚</li>
<li>@SafeVarargs - Java 7 å¼€å§‹æ”¯æŒï¼Œå¿½ç•¥ä»»ä½•ä½¿ç”¨å‚æ•°ä¸ºæ³›å‹å˜é‡çš„æ–¹æ³•æˆ–æ„é€ å‡½æ•°è°ƒç”¨äº§ç”Ÿçš„è­¦å‘Šã€‚</li>
</ul>
<h3 id="å…ƒæ³¨è§£"><a href="#å…ƒæ³¨è§£" class="headerlink" title="å…ƒæ³¨è§£"></a>å…ƒæ³¨è§£</h3><p>å…ƒæ³¨è§£æ˜¯ä½œç”¨äºæ³¨è§£ä¸Šçš„æ³¨è§£ï¼Œç”¨äºæˆ‘ä»¬ç¼–å†™è‡ªå®šä¹‰çš„æ³¨è§£ï¼š</p>
<ul>
<li>@Retention - æ ‡è¯†è¿™ä¸ªæ³¨è§£æ€ä¹ˆä¿å­˜ï¼Œæ˜¯åªåœ¨ä»£ç ä¸­ï¼Œè¿˜æ˜¯ç¼–å…¥classæ–‡ä»¶ä¸­ï¼Œæˆ–è€…æ˜¯åœ¨è¿è¡Œæ—¶å¯ä»¥é€šè¿‡åå°„è®¿é—®ã€‚</li>
<li>@Documented - æ ‡è®°è¿™äº›æ³¨è§£æ˜¯å¦åŒ…å«åœ¨ç”¨æˆ·æ–‡æ¡£ä¸­ã€‚</li>
<li>@Target - æ ‡è®°è¿™ä¸ªæ³¨è§£åº”è¯¥æ˜¯å“ªç§ Java æˆå‘˜ã€‚</li>
<li>@Inherited - æ ‡è®°è¿™ä¸ªæ³¨è§£æ˜¯ç»§æ‰¿äºå“ªä¸ªæ³¨è§£ç±»(é»˜è®¤ æ³¨è§£å¹¶æ²¡æœ‰ç»§æ‰¿äºä»»ä½•å­ç±»)</li>
<li>@Repeatable - Java 8 å¼€å§‹æ”¯æŒï¼Œæ ‡è¯†æŸæ³¨è§£å¯ä»¥åœ¨åŒä¸€ä¸ªå£°æ˜ä¸Šä½¿ç”¨å¤šæ¬¡ã€‚</li>
</ul>
<p>çœ‹äº†è¿™ä¹ˆå¤šé¢„è®¾çš„æ³¨è§£ï¼Œä½ ä»¬è‚¯å®šçœ¼èŠ±ç¼­ä¹±äº†ï¼Œé‚£æˆ‘ä»¬æ¥çœ‹çœ‹<code>@Override</code>æ˜¯å¦‚ä½•å®šä¹‰çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-meta">@Target(ElementType.METHOD)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.SOURCE)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta"><code class="language-hljs java"><span class="hljs-meta">@Target(ElementType.METHOD)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.SOURCE)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Override &#123;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¯¥æ³¨è§£ç”±<code>@Target</code>é™å®šä¸ºåªèƒ½ä½œç”¨äºæ–¹æ³•ä¸Šï¼ŒElementTypeæ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæ­¤æšä¸¾çš„ä½œç”¨åŸŸï¼Œä¸€ä¸ªæ³¨è§£å¯ä»¥æœ‰å¾ˆå¤šä¸ªä½œç”¨åŸŸã€‚<code>@Retention</code>è¡¨ç¤ºæ­¤æ³¨è§£çš„ä¿ç•™ç­–ç•¥ï¼ŒåŒ…æ‹¬ä¸‰ç§ç­–ç•¥ï¼Œåœ¨ä¸Šè¿°ä¸­æœ‰å†™åˆ°ï¼Œè€Œè¿™é‡Œå®šä¹‰ä¸ºåªåœ¨ä»£ç ä¸­ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè‡ªå®šä¹‰çš„æ³¨è§£éœ€è¦å®šä¹‰1ä¸ª<code>@Retention</code>å’Œ1-nä¸ª<code>@Target</code>ã€‚</p>
<p>æ—¢ç„¶äº†è§£äº†å…ƒæ³¨è§£çš„ä½¿ç”¨å’Œæ³¨è§£çš„å®šä¹‰æ–¹å¼ï¼Œæˆ‘ä»¬å°±æ¥å°è¯•å®šä¹‰ä¸€ä¸ªè‡ªå·±çš„æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-meta">@Target(ElementType.METHOD)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta"><code class="language-hljs java"><span class="hljs-meta">@Target(ElementType.METHOD)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Test &#123;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªTestæ³¨è§£ï¼Œå¹¶å°†å…¶ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼ŒåŒæ—¶æ­¤æ³¨è§£å¯ä»¥ä½œç”¨äºæ–¹æ³•æˆ–æ˜¯ç±»ä¸Šï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params"><code class="language-hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œä¸€ä¸ªæœ€ç®€å•çš„æ³¨è§£å°±è¢«æˆ‘ä»¬åˆ›å»ºäº†ã€‚</p>
<h3 id="æ³¨è§£çš„ä½¿ç”¨"><a href="#æ³¨è§£çš„ä½¿ç”¨" class="headerlink" title="æ³¨è§£çš„ä½¿ç”¨"></a>æ³¨è§£çš„ä½¿ç”¨</h3><p>æˆ‘ä»¬è¿˜å¯ä»¥åœ¨æ³¨è§£ä¸­å®šä¹‰ä¸€äº›å±æ€§ï¼Œæ³¨è§£çš„å±æ€§ä¹Ÿå«åšæˆå‘˜å˜é‡ï¼Œæ³¨è§£åªæœ‰æˆå‘˜å˜é‡ï¼Œæ²¡æœ‰æ–¹æ³•ã€‚æ³¨è§£çš„æˆå‘˜å˜é‡åœ¨æ³¨è§£çš„å®šä¹‰ä¸­ä»¥â€œæ— å½¢å‚çš„æ–¹æ³•â€å½¢å¼æ¥å£°æ˜ï¼Œå…¶æ–¹æ³•åå®šä¹‰äº†è¯¥æˆå‘˜å˜é‡çš„åå­—ï¼Œå…¶è¿”å›å€¼å®šä¹‰äº†è¯¥æˆå‘˜å˜é‡çš„ç±»å‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-meta">@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Test &#123;<br>    <span class="hljs-function">String <span class="hljs-title">value</span><span class="hljs-params"><code class="language-hljs java"><span class="hljs-meta">@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Test &#123;<br>    <span class="hljs-function">String <span class="hljs-title">value</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>é»˜è®¤åªæœ‰ä¸€ä¸ªå±æ€§æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶åå­—è®¾å®šä¸ºvalueï¼Œå¦åˆ™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä½¿ç”¨æ—¶æ‰‹åŠ¨æŒ‡å®šæ³¨è§£çš„å±æ€§åç§°ï¼Œä½¿ç”¨valueåˆ™æ— éœ€å¡«å…¥ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-meta">@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Test &#123;<br>    <span class="hljs-function">String <span class="hljs-title">test</span><span class="hljs-params"><code class="language-hljs java"><span class="hljs-meta">@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Test &#123;<br>    <span class="hljs-function">String <span class="hljs-title">test</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-meta">@Test(test = &quot;&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params"><code class="language-hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-meta">@Test(test = &quot;&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨defaultå…³é”®å­—æ¥ä¸ºè¿™äº›å±æ€§æŒ‡å®šé»˜è®¤å€¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-meta">@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Test &#123;<br>    <span class="hljs-function">String <span class="hljs-title">value</span><span class="hljs-params">()</span> <span class="hljs-keyword"><code class="language-hljs java"><span class="hljs-meta">@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Test &#123;<br>    <span class="hljs-function">String <span class="hljs-title">value</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> "éƒ½çœ‹åˆ°è¿™é‡Œäº†ï¼Œç»™ä¸ªä¸‰è¿å§ï¼"</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å½“å±æ€§å­˜åœ¨é»˜è®¤å€¼æ—¶ï¼Œä½¿ç”¨æ³¨è§£çš„æ—¶å€™å¯ä»¥ä¸ç”¨ä¼ å…¥å±æ€§å€¼ã€‚å½“å±æ€§ä¸ºæ•°ç»„æ—¶å‘¢ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-meta">@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta"><code class="language-hljs java"><span class="hljs-meta">@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Test &#123;<br>    String[] value();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å½“å±æ€§ä¸ºæ•°ç»„ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨æ³¨è§£ä¼ å‚æ—¶ï¼Œå¦‚æœæ•°ç»„é‡Œé¢åªæœ‰ä¸€ä¸ªå†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä¼ å…¥ä¸€ä¸ªå€¼ï¼Œè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-meta">@Test(&quot;å…³æ³¨ç‚¹äº†å—&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params"><code class="language-hljs java"><span class="hljs-meta">@Test(&quot;å…³æ³¨ç‚¹äº†å—&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>	<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-meta">@Test(&#123;&quot;value1&quot;, &quot;value2&quot;&#125;)</span>   <span class="hljs-comment">//å¤šä¸ªå€¼æ—¶å°±ä½¿ç”¨èŠ±æ‹¬å·æ‹¬èµ·æ¥</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params"><code class="language-hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-meta">@Test(&#123;&quot;value1&quot;, &quot;value2&quot;&#125;)</span>   <span class="hljs-comment">//å¤šä¸ªå€¼æ—¶å°±ä½¿ç”¨èŠ±æ‹¬å·æ‹¬èµ·æ¥</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="åå°„è·å–æ³¨è§£"><a href="#åå°„è·å–æ³¨è§£" class="headerlink" title="åå°„è·å–æ³¨è§£"></a>åå°„è·å–æ³¨è§£</h3><p>æ—¢ç„¶æˆ‘ä»¬çš„æ³¨è§£å¯ä»¥ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œå¦‚ä½•è·å–æˆ‘ä»¬ç¼–å†™çš„æ³¨è§£ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°åå°„æœºåˆ¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Class&lt;Student&gt; clazz = Student.class;<br>    <span class="hljs-keyword">for</span> (Annotation annotation : clazz.getAnnotations()) &#123;<br>        System.out.println(annotation.annotationType());   <span class="hljs-comment">//è·å–ç±»å‹</span><br>        System.out.println(annotation <span class="hljs-keyword">instanceof</span> Test);   <span class="hljs-comment">//ç›´æ¥åˆ¤æ–­æ˜¯å¦ä¸ºTest</span><br>        Test test = (Test) annotation;<br>        System.out.println(test.value());   <span class="hljs-comment"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    Class&lt;Student&gt; clazz = Student.class;<br>    <span class="hljs-keyword">for</span> (Annotation annotation : clazz.getAnnotations()) &#123;<br>        System.out.println(annotation.annotationType());   <span class="hljs-comment">//è·å–ç±»å‹</span><br>        System.out.println(annotation <span class="hljs-keyword">instanceof</span> Test);   <span class="hljs-comment">//ç›´æ¥åˆ¤æ–­æ˜¯å¦ä¸ºTest</span><br>        Test test = (Test) annotation;<br>        System.out.println(test.value());   <span class="hljs-comment">//è·å–æˆ‘ä»¬åœ¨æ³¨è§£ä¸­å†™å…¥çš„å†…å®¹</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>é€šè¿‡åå°„æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿè·å–åˆ°æˆ‘ä»¬æ ‡è®°çš„æ³¨è§£ï¼ŒåŒæ—¶è¿˜èƒ½è·å–åˆ°æ³¨è§£ä¸­å¡«å…¥çš„å€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œæ–¹æ³•ä¸Šçš„æ ‡è®°æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼è·å–æ³¨è§£ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre class=" language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> NoSuchMethodException </span>&#123;<br>    Class&lt;Student&gt; clazz = Student.class;<br>    <span class="hljs-keyword">for</span> (Annotation annotation : clazz.getMethod(<span class="hljs-string">&quot;test&quot;</span>).getAnnotations()) &#123;<br>        System.out.println(annotation.annotationType());   <span class="hljs-comment">//è·å–ç±»å‹</span><br>        System.out.println(annotation <span class="hljs-keyword">instanceof</span> Test);   <span class="hljs-comment">//ç›´æ¥åˆ¤æ–­æ˜¯å¦ä¸ºTest</span><br>        Test test = (Test) annotation;<br>        System.out.println(test.value());   <span class="hljs-comment"><code class="language-hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> NoSuchMethodException </span>&#123;<br>    Class&lt;Student&gt; clazz = Student.class;<br>    <span class="hljs-keyword">for</span> (Annotation annotation : clazz.getMethod(<span class="hljs-string">&quot;test&quot;</span>).getAnnotations()) &#123;<br>        System.out.println(annotation.annotationType());   <span class="hljs-comment">//è·å–ç±»å‹</span><br>        System.out.println(annotation <span class="hljs-keyword">instanceof</span> Test);   <span class="hljs-comment">//ç›´æ¥åˆ¤æ–­æ˜¯å¦ä¸ºTest</span><br>        Test test = (Test) annotation;<br>        System.out.println(test.value());   <span class="hljs-comment">//è·å–æˆ‘ä»¬åœ¨æ³¨è§£ä¸­å†™å…¥çš„å†…å®¹</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>æ— è®ºæ˜¯æ–¹æ³•ã€ç±»ã€è¿˜æ˜¯å­—æ®µï¼Œéƒ½å¯ä»¥ä½¿ç”¨<code>getAnnotations()</code>æ–¹æ³•ï¼ˆè¿˜æœ‰å‡ ä¸ªåŒåçš„ï¼‰æ¥å¿«é€Ÿè·å–æˆ‘ä»¬æ ‡è®°çš„æ³¨è§£ã€‚</p>
<p>æ‰€ä»¥è¯´å‘¢ï¼Œè¿™ç©æ„å­¦æ¥æœ‰å•¥ç”¨ï¼Ÿä¸æ¯«getä¸åˆ°è¿™ç©æ„çš„ç”¨å¤„ã€‚å…¶å®ä¸æ˜¯ï¼Œç°é˜¶æ®µä½ ä»¬è¿˜ä½“ä¼šä¸åˆ°æ³¨è§£å¸¦æ¥çš„å¿«ä¹ï¼Œåœ¨æ¥è§¦åˆ°Springå’ŒSpringBootç­‰å¤§å‹æ¡†æ¶åï¼Œå°±èƒ½æ„Ÿå—åˆ°æ³¨è§£å¸¦æ¥çš„é­…åŠ›äº†ã€‚</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
              </div>
              
                <p class="note note-warning">
                  
                    æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/02/23/1.html/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile"></span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/02/23/2.html/">
                        <span class="hidden-mobile"></span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- ä¸è’œå­ç»Ÿè®¡PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            æ€»è®¿é—®é‡ 
            <span id="busuanzi_value_site_pv"></span>
             æ¬¡
          </span>
      
      
        <!-- ä¸è’œå­ç»Ÿè®¡UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            æ€»è®¿å®¢æ•° 
            <span id="busuanzi_value_site_uv"></span>
             äºº
          </span>
      
    
  </div>


  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>












  

  

  

  

  

  





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ ä¿æŒåœ¨æœ€åº•éƒ¨ -->
<script  src="/js/boot.js" ></script>


</body>
</html>
